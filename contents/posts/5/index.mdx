---
title: Next.js ë¡œ Github Page ë¸”ë¡œê·¸ ë§Œë“¤ê¸° (3)
date: 2023-08-13T18:00:00
categories: ['next.js', 'github', 'blog', 'mdx']
---

## Github Page ë°°í¬ ë° ì„¤ì •

ì´ ê¸€ì€ Githubì—ì„œ ì œê³µí•˜ëŠ” CI/CD íˆ´ì¸ `Github Actions` ë¥¼ ì‚¬ìš©í•˜ì—¬ `next.js` ì•±ì„ ë°°í¬í•˜ëŠ” ì¼ë ¨ì˜ ê³¼ì •ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

### ë¹Œë“œ ì™€ ë°°í¬

ë°©ë²•ì„ ì„¤ëª…í•˜ê¸° ì•ì„œ ì•±ì´ ë¹Œë“œë˜ê³  ë°°í¬ë˜ëŠ” ê³¼ì •ì„ ê°„ëµíˆ ì„¤ëª…í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

1. `main` branch ì— pushê°€ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.
2. `Github Actions`ì´ `push event`ë¥¼ ê°ì§€í•˜ì—¬ ì¼ë ¨ì˜ ë°°í¬ í”„ë¡œì„¸ìŠ¤(jobs)ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
3. ê°€ìƒ ë¨¸ì‹ ì—ì„œ `main` branch ì— ìˆëŠ” ì½”ë“œë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤.
4. ë¹Œë“œëœ ì •ì  html íŒŒì¼ì„ `Github Page` ì—ì„œ ì„œë¹„ìŠ¤ í•  branchì— ë°°í¬í•©ë‹ˆë‹¤.
   (default : gh-pages)

ì´ì œ `/.github/workflows/nextjs.yml` íŒŒì¼ì„ ìƒì„±í•œ í›„ ì•„ë˜ ì½”ë“œë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
ì•„ë˜ yml íŒŒì¼ì€ `Github Actions` ì—ì„œì˜ ë™ì‘ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

â€» ì•„ë˜ ì½”ë“œ ì¤‘ `touch ./out/.nojekyll` ì€ `github pages jekyll` ì²˜ë¦¬ ê³¼ì •ì—ì„œ `_next` ê´€ë ¨ ì„¤ì •ì´ ë¬´ì‹œë˜ì§€ ì•Šë„ë¡ í•´ì¤ë‹ˆë‹¤.

```yml:/.github/workflows/nextjs.yml
name: GitHub Pages Deploy

on:
  push:
    branches:
      - main # pushë¥¼ ê°ì§€í•  ëŒ€ìƒ branch ì…ë‹ˆë‹¤.

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3

      - name: Install and Build ğŸ”§
        run: |
          yarn install
          yarn build && touch ./out/.nojekyll

      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          branch: gh-pages # github pageë¥¼ ì„œë¹„ìŠ¤ í•  branch ì…ë‹ˆë‹¤.
          folder: out
```

`next.config.js` íŒŒì¼ì— `output` ì„¤ì •ë„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.

```js:/next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  output: "export", // '/out' ê²½ë¡œì— ì •ì  html íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.
  compiler: {
    styledComponents: {
      ssr: true,
      displayName: true,
      pure: true,
    },
  },
};

module.exports = nextConfig;
```

ê·¸ë‹¤ìŒ Github ì‚¬ì´íŠ¸ë¡œ ëŒì•„ì™€ì„œ ê¶Œí•œê´€ë ¨ ì˜µì…˜ì„ ë³€ê²½í•´ì¤ë‹ˆë‹¤.
ë°°í¬ ë‹¨ê³„ì—ì„œ ê°€ìƒë¨¸ì‹ ì— ì“°ê¸°ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.

![](2.png)

ìˆ˜ì •ì´ ëë‚¬ìœ¼ë©´ origin main branch ì— push í•´ì¤ë‹ˆë‹¤.

push í›„ Actions íƒ­ì— ë“¤ì–´ê°€ë³´ë©´ `nextjs.yml` íŒŒì¼ì— ì‘ì„±í–ˆë˜ ë°°í¬ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë˜ê³  ìˆìŠµë‹ˆë‹¤.

![](1.png)

### Github Page ì„¤ì •

ë°°í¬ê°€ ì„±ê³µì ìœ¼ë¡œ ëë‚¬ë‹¤ë©´ ì•„ë˜ ìŠ¤í¬ë¦°ìƒ· ì²˜ëŸ¼ `gh-pages` ë¸Œëœì¹˜ê°€ ìƒì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

![](4.png)

ë§ˆì§€ë§‰ìœ¼ë¡œ Github Page ê°€ ì •ì  htmlíŒŒì¼ì´ ë°°í¬ëœ `gh-pages` ë¸Œëœì¹˜ë¥¼ ë°”ë¼ë³´ë„ë¡ ì„¤ì •í•´ì¤ë‹ˆë‹¤.

![](3.png)

ì„¤ì •ì„ ì €ì¥í•œ í›„ **ëª‡ ë¶„ ë’¤** ê¸°ë³¸ ë„ë©”ì¸ì— ì ‘ì†í•˜ë©´ ì •ìƒì ìœ¼ë¡œ `Github Page`ê°€ ì„œë¹„ìŠ¤ ë˜ëŠ”ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![](5.png)
