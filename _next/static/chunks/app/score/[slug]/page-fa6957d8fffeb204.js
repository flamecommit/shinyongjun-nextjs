(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[589],{3132:function(e,n,t){Promise.resolve().then(t.bind(t,5797)),Promise.resolve().then(t.bind(t,7137)),Promise.resolve().then(t.bind(t,1179))},1179:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var i=t(230),r=t(7437),o=t(802),s=t(6442),c=t(2265),a=t(7735),l=t(6206),d=t(4241),p=t(1510),m=t(3254),x=t(5431),h=t(3865),u=t(3198),f=t(2399);function g(){let e=(0,i._)(["\n  display: flex;\n  flex-wrap: wrap;\n  // column-gap: 0.1em;\n  padding: 4px;\n  // background-color: #fff;\n  // border-bottom: 1px solid ",";\n  border-bottom: 1px solid #e4e8ec;\n  row-gap: 6px;\n  .letter {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    flex-basis: 1em;\n    width: 1em;\n    text-align: center;\n    .chord {\n      height: 1.5em;\n      white-space: nowrap;\n      button {\n        position: relative;\n        min-width: 100%;\n        font-weight: 500;\n        letter-spacing: -0.04em;\n        &:hover {\n          color: ",";\n        }\n      }\n    }\n    .lyrics {\n      height: 1.5em;\n    }\n    .index {\n      height: 1.5em;\n      white-space: nowrap;\n      font-size: 10px;\n      text-align: center;\n    }\n  }\n  @media "," {\n    padding: 3px;\n  }\n"]);return g=function(){return e},e}let y=o.ZP.div.withConfig({displayName:"Phrase__StyledScorePhrase",componentId:"sc-ca176679-0"})(g(),h.v.primaryLine,h.v.hoverText,d.Uh.mobile);var v=function(e){let{phrase:n}=e,t=(0,u.v9)(e=>e.score),i=n.chordList||[],[o,s]=(0,c.useState)(""),[a,l]=(0,c.useState)(0),[d,p]=(0,c.useState)([]),h=(e,n)=>{s(e),l(n||0)},g=e=>{if(!e)return"";let n=(0,f.yj)(e),i=(0,f.Es)(n,t.capo);return e.replace(n,i)};return(0,c.useEffect)(()=>{var e;let t=[],r=(null===(e=n.lyrics)||void 0===e?void 0:e.split(""))||[],o=r.length,s=Math.max(...i.map(e=>e.position));for(let e=0;e<Math.max(o,s+1);e++){let n=i.find(n=>n.position===e);t.push({lyricsLetter:r[e],chordName:g(null==n?void 0:n.name),initIndex:(null==n?void 0:n.initIndex)||0})}p(t)},[t.capo]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{className:"score-phrase",children:d.map((e,n)=>(0,r.jsxs)("div",{className:"letter","data-letter-index":n,children:[(0,r.jsx)("div",{className:"chord",children:e.chordName&&(0,r.jsx)("button",{type:"button",onClick:()=>h(e.chordName,e.initIndex),children:(0,r.jsx)(m.Z,{chordName:e.chordName,isAbbr:!0})},n)}),(0,r.jsx)("div",{className:"lyrics",children:e.lyricsLetter}),!1]},n))}),o&&(0,r.jsx)(x.Z,{chordName:o,closeChord:()=>{s(""),l(0)},initIndex:a})]})};function b(){let e=(0,i._)(["\n  display: grid;\n  row-gap: 30px;\n  font-size: 14px;\n  .notice {\n    margin-bottom: 0 !important;\n    font-size: 14px;\n    color: #f00;\n  }\n  .letter {\n    flex-basis: ",";\n    width: ",";\n  }\n  @media "," {\n    font-size: 12px;\n  }\n"]);return b=function(){return e},e}let j=o.ZP.article.withConfig({displayName:"Wrapper__StyledScoreWrapper",componentId:"sc-7aea6d9e-0"})(b(),e=>"".concat(e.$letterSpacing,"em")||0,e=>"".concat(e.$letterSpacing,"em")||0,d.Uh.mobile);var N=function(e){let{children:n,letterSpacing:t}=e;return(0,r.jsxs)(j,{$letterSpacing:t,children:[(0,r.jsx)("p",{className:"notice",children:"※ 코드를 클릭하면 코드표가 나옵니다."}),n]})},w=t(765);function S(){let e=(0,i._)(["\n  .score-header {\n    text-align: center;\n    margin-bottom: 60px;\n    .score-title {\n      font-weight: 700;\n      font-size: 30px;\n      margin-bottom: 12px;\n    }\n    .score-categories {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: center;\n      gap: 12px;\n    }\n    .score-date {\n      margin-top: 12px;\n      color: #666;\n      font-size: 14px;\n    }\n    .score-meta {\n      margin-top: 30px;\n      display: flex;\n      justify-content: space-between;\n      font-size: 14px;\n      .score-capo {\n        display: flex;\n        column-gap: 12px;\n      }\n    }\n  }\n  .score-content {\n    ","\n    ","\n    img {\n      display: block;\n      cursor: pointer;\n      margin-inline: auto;\n    }\n    .image-cite {\n      display: block;\n      text-align: center;\n      margin-top: 6px;\n      color: #666;\n      font-size: 12px;\n    }\n    code {\n      display: inline-block;\n      font-size: 14px;\n      line-height: 24px;\n      padding-block: 0;\n    }\n    ol {\n      list-style: decimal;\n    }\n    li {\n      list-style: disc;\n    }\n  }\n  @media "," {\n    .score-header {\n      .score-title {\n        font-size: 24px;\n      }\n      .score-date {\n        font-size: 12px;\n      }\n      .score-categories {\n        gap: 8px;\n      }\n      .score-meta {\n        font-size: 12px;\n      }\n    }\n    .score-content {\n      font-size: 14px;\n      code {\n        font-size: 12px;\n        line-height: 21px;\n      }\n    }\n  }\n"]);return S=function(){return e},e}let k=o.ZP.div.withConfig({displayName:"Viewer__StyledScoreViewer",componentId:"sc-2f0cab5-0"})(S(),l.J,a.M,d.Uh.mobile);var _=function(e){let{scoreData:n}=e,[t,i]=(0,c.useState)([]),[o,a]=(0,c.useState)(!1),[l,d]=(0,c.useState)(0),m=(0,c.useRef)(null),x=(0,u.v9)(e=>e.score),h=(0,u.I0)(),f=e=>{let n=x.capo+e;n>=0&&n<=8&&h(w.IW.setCapo(n))};return(0,c.useEffect)(()=>{var e;let n=null===(e=m.current)||void 0===e?void 0:e.getElementsByTagName("img"),t=Array.from(n||[]),r=t.map((e,n)=>(e.addEventListener("click",()=>{d(n),a(!0)}),{key:n,src:e.src}));i(r)},[]),(0,c.useEffect)(()=>(h(w.IW.setCapo(n.capo)),()=>{h(w.IW.setCapo(0))}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(k,{children:[(0,r.jsxs)("header",{className:"score-header",children:[(0,r.jsx)("h1",{className:"score-title",children:n.title}),(0,r.jsx)("div",{className:"score-date",children:n.releaseYear}),(0,r.jsxs)("div",{className:"score-meta",children:[(0,r.jsxs)("div",{className:"score-capo",children:["Capo : ",x.capo,(0,r.jsx)("button",{type:"button",onClick:()=>f(1),children:"key up"}),(0,r.jsx)("button",{type:"button",onClick:()=>f(-1),children:"key down"})]}),(0,r.jsx)("div",{className:"score-artist",children:n.artist})]})]}),(0,r.jsx)("div",{className:"score-content",ref:m,children:(0,r.jsx)(s.R,{...n.mdx,components:{ScoreWrapper:N,ScorePhrase:v}})})]}),o&&(0,r.jsx)(p.Z,{images:t,initActiveIndex:l,closeGallery:()=>{a(!1)}})]})}},765:function(e,n,t){"use strict";t.d(n,{IW:function(){return o}});var i=t(663);let r=(0,i.oM)({name:"score",initialState:{capo:0},reducers:{setCapo:(e,n)=>({...e,capo:n.payload})}}),o=r.actions;n.ZP=r.reducer}},function(e){e.O(0,[27,576,396,198,173,822,355,95,971,596,744],function(){return e(e.s=3132)}),_N_E=e.O()}]);